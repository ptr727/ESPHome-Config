// https://aka.ms/devcontainer.json
// https://containers.dev/features
// https://containers.dev/guide/dockerfile
// https://aka.ms/dev-containers-non-root
{
	"name": "ESPHome-NonRoot Container",
	"image": "ptr727/esphome-nonroot:latest",
	"workspaceMount": "source=${localWorkspaceFolder},target=/config,type=bind",
	"workspaceFolder": "/config",
	"forwardPorts": [
		6052
	],
	"containerEnv": {
		"ESPHOME_VERBOSE": "true",
		"TMPDIR": "/cache/tmp" // Remove when latest syncs
	},
	"overrideCommand": false,
	"containerUser": "1001:100",
	"updateRemoteUserUID": false,
	"mounts": [
		"source=${localWorkspaceFolder}/../cache,target=/cache,type=bind,consistency=cached"
	]
}